require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/menu/menu"],{395:function(t,e,o){"use strict";(function(t,e){var n=o(4);o(26),o(27);n(o(25));var i=n(o(396));t.__webpack_require_UNI_MP_PLUGIN__=o,e(i.default)}).call(this,o(1)["default"],o(2)["createPage"])},396:function(t,e,o){"use strict";o.r(e);var n=o(397),i=o(399);for(var c in i)["default"].indexOf(c)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(c);o(401);var l,s=o(44),a=Object(s["default"])(i["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],l);a.options.__file="pagesA/menu/menu.vue",e["default"]=a.exports},397:function(t,e,o){"use strict";o.r(e);var n=o(398);o.d(e,"render",(function(){return n["render"]})),o.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),o.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),o.d(e,"components",(function(){return n["components"]}))},398:function(t,e,o){"use strict";var n;o.r(e),o.d(e,"render",(function(){return i})),o.d(e,"staticRenderFns",(function(){return l})),o.d(e,"recyclableRender",(function(){return c})),o.d(e,"components",(function(){return n}));var i=function(){var t=this,e=t.$createElement;t._self._c},c=!1,l=[];i._withStripped=!0},399:function(t,e,o){"use strict";o.r(e);var n=o(400),i=o.n(n);for(var c in n)["default"].indexOf(c)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(c);e["default"]=i.a},400:function(t,e,o){"use strict";(function(t){var n=o(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=o(189),c=n(o(190)),l=o(191),s=o(275),a={data:function(){return{collected:!1,showNotice:!0,n_Content:"",hidden:!1,nocancel:!0,hospital:[],notice:[],officesList:[],doctorOfficeRooms:[],roomList:[],modalName:"Modal",classifySeleted:"o002",collectList:[]}},onLoad:function(e){this.hospitalId=e.id,this.hospitals=getApp().globalData.hospitals,this.LoginIndex=t.getStorageSync("LoginIndex"),this.GetOffice()},onShow:function(){var e=this;e.getShowNotice(),e.collectList=t.getStorageSync("collectHospitals"),console.log("==查询收藏的医院信息=====",e.collectList),e.collectShow();for(var o=this.hospitals,n=this.hospitalId,i=0;i<o.length;i++)if(o[i].hid==n){this.hospital=o[i];break}},methods:{showModal:function(t){console.log(t.currentTarget.dataset.target),this.modalName=t.currentTarget.dataset.target},hideModal:function(t){this.modalName=null},confirm:function(){this.hidden=!0},cancel:function(){this.hidden=!0},getShowNotice:function(){var e=this;this.notice=[],this.hidden=!1;var o=s.notice;o.FLAG="R",o.hId=this.hospitalId,c.default.post(i.NoticeServlet,o).then((function(o){if("000000"==o[o.length-1].SYS_HEAD.ReturnCode)for(var n=0;n<o.length-1;n++)e.notice.push(o[n]);else t.showToast({title:o[o.length-1].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3})})).catch((function(t){}))},hideNotice:function(){this.showNotice=!0},collectShow:function(){this.collectedUpdate();var e=t.getStorageSync("collectHospitals");if(console.log("更新后的数据",t.getStorageSync("collectHospitals")),0==e.length);else for(var o=0;o<e.length;o++)if(this.hospitalId==e[o].hid){this.collected=!0,this.cid=e[o].cid;break}},collectedAdd:function(){var e=this,o={FLAG:"C",cId:(0,l.randomNum)("ch",6),hId:this.hospitalId,dId:"",openId:t.getStorageSync("openid")};c.default.post(i.CollectionServlet,o).then((function(o){(o[0].SYS_HEAD.ReturnCode="000000")?(t.showToast({title:o[0].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3}),e.collectShow()):t.showToast({title:o[0].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3})})).catch((function(t){console.log("=err====",t)}))},collectedDelete:function(){this.collectShow();var e={FLAG:"D",openId:t.getStorageSync("openid"),cId:this.cid};c.default.post(i.CollectionServlet,e).then((function(e){e[0].SYS_HEAD.ReturnCode="000000",t.showToast({title:e[0].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3})})).catch((function(t){}))},collectedUpdate:function(){var e=this,o={FLAG:"R",collectionType:"Hospital",openId:t.getStorageSync("openid")};c.default.post(i.CollectionServlet,o).then((function(o){var n=[];if(0==o.length);else{if("000000"==o[o.length-1].SYS_HEAD.ReturnCode)for(var i=0;i<o.length-1;i++)n.push(o[i]);else t.showToast({title:o[o.length-1].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3});e.collectList=n}console.log("=======menuCollections========",n),t.setStorageSync("collectHospitals",n)})).catch((function(t){}))},onattention:function(){try{console.log("==onattention is called====",this.collected),1==this.collected?(this.collectedDelete(),this.collected=!1):(this.collectedAdd(),this.collected=!0)}catch(t){console.log("===exception====",t)}},tapClassify:function(t){this.classifySeleted=t,this.GetRooms(t)},getDoctors:function(e,o,n){console.log(e,o,n),""==this.LoginIndex?t.redirectTo({url:"/pagesA/login/login"}):t.navigateTo({url:"/pagesA/doctors/doctors?hospitalId="+this.hospitalId+"&roomId="+e+"&rname="+o+"&hname="+n})},GetOffice:function(){var e=this,o=s.DoctorOfficeRoom;o.FLAG="R",o.hId=this.hospitalId,c.default.post(i.OfficeServlet,o).then((function(o){var n=[];if("000000"==o[o.length-1].SYS_HEAD.ReturnCode)for(var i=0;i<o.length-1;i++)n.push(o[i]);else t.showToast({title:o[o.length-1].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3});e.officesList=n,e.GetRooms(n[0].o_Id)})).catch((function(t){}))},GetRooms:function(e){var o=this,n={FLAG:"R"};n.hId=this.hospitalId,n.oId=e,n.rId="",n.rName="",n.currentPage="1",c.default.post(i.RoomServlet,n).then((function(e){var n=[];if("000000"==e[e.length-1].SYS_HEAD.ReturnCode)for(var i=0;i<e.length-1;i++)n.push(e[i]);else t.showToast({title:e[e.length-1].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3});o.roomList=n,console.log("vvvvvvvvv",o.roomList)}))}}};e.default=a}).call(this,o(2)["default"])},401:function(t,e,o){"use strict";o.r(e);var n=o(402),i=o.n(n);for(var c in n)["default"].indexOf(c)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(c);e["default"]=i.a},402:function(t,e,o){}},[[395,"common/runtime","common/vendor","pagesA/common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pagesA/menu/menu.js.map