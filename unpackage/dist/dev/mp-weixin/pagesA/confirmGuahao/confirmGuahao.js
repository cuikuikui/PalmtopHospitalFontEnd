require('../common/vendor.js');(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/confirmGuahao/confirmGuahao"],{419:function(e,t,n){"use strict";(function(e,t){var o=n(4);n(26);o(n(25));var r=o(n(420));e.__webpack_require_UNI_MP_PLUGIN__=n,t(r.default)}).call(this,n(1)["default"],n(2)["createPage"])},420:function(e,t,n){"use strict";n.r(t);var o=n(421),r=n(423);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n(425);var i,u=n(32),c=Object(u["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],i);c.options.__file="pagesA/confirmGuahao/confirmGuahao.vue",t["default"]=c.exports},421:function(e,t,n){"use strict";n.r(t);var o=n(422);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},422:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return a})),n.d(t,"components",(function(){return o}));var r=function(){var e=this,t=e.$createElement;e._self._c},a=!1,i=[];r._withStripped=!0},423:function(e,t,n){"use strict";n.r(t);var o=n(424),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},424:function(e,t,n){"use strict";(function(e){var o=n(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(177),a=o(n(178)),i=n(179),u={data:function(){return{guHaoInfor:[],family:{},choseFamily:!0}},onLoad:function(e){this.guHaoInfor=getApp().globalData.guHaoInfor},onShow:function(){this.fId=getApp().globalData.fId,this.getFamilys(),this.getOrderNum()},methods:{chosePerson:function(){getApp().globalData.familySign="01",e.redirectTo({url:"/pagesC/family/listFamily"})},getReason:function(t){e.setStorageSync("gIntroduce",t.detail.value),this.gIntroduce=e.getStorageSync("gIntroduce")},getFamilys:function(){var t=this,n={openId:e.getStorageSync("openid"),FLAG:"R",type:"getDesensFamily"};a.default.post(r.AskerServlet,n).then((function(e){if(console.log(e),""!=e.length){for(var n=e,o=0;o<n.length;o++)if((0,i.decrypt)(n[o].secretAid)==t.fId){console.log("111111111"),t.family=n[o],t.choseFamily=!1,getApp().globalData.fId="";break}t.family.secretAid=(0,i.decrypt)(t.family.secretAid),t.family.secretName=(0,i.decrypt)(t.family.secretName),console.log("===this.family ===",t.family)}})).catch((function(e){}))},getOrderNum:function(){for(var e="",t=0;t<5;t++)e+=Math.floor(10*Math.random());e=((new Date).getTime()+e).replace(/(.{4})/g,"$1 "),this.orderNum=e},confirm:function(){if(null==this.gIntroduce)return e.showToast({title:"请输入病因！",icon:"none",duration:2e3}),!1;if(null==this.family)return e.showToast({title:"请选择就诊人！",icon:"none",duration:2e3}),!1;var t={FLAG:"C",gId:(0,i.randomNum)((new Date).getFullYear(),6),gTime:this.guHaoInfor.visiTime,roomName:this.guHaoInfor.roomname,gIntroduce:this.gIntroduce,aId:this.family.secretAid,dId:this.guHaoInfor.dId,timePeriod:this.guHaoInfor.timePeriod,dayOfWeek:this.guHaoInfor.dayOfWeek,mornNum:this.guHaoInfor.mornNum,afternNum:this.guHaoInfor.afternNum,openId:e.getStorageSync("openid"),gOrder:this.orderNum,gPayStatus:"0",hName:this.guHaoInfor.hname,dateTimes:this.guHaoInfor.dateTimes,orderStartTime:this.guHaoInfor.orderStartTime,orderEndTime:this.guHaoInfor.orderEndTime};console.log("==预约挂号提交数据===",t),e.showModal({title:"你已预约本次挂号,请尽快完成支付",content:this.guHaoInfor.visiTime,success:function(n){n.confirm?(getApp().globalData.successFlag=!0,a.default.post(r.GuaHaoServlet,t).then((function(t){console.log("==预约成功===",t),(t[0].SYS_HEAD.ReturnCode="000000")?(e.showToast({title:t[0].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3}),setTimeout((function(){e.switchTab({url:"/pages/guaHao/guaHao"})}),2e3)):e.showToast({title:t[0].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3})})).catch((function(t){e.showToast({title:"预约失败",icon:"success",duration:2e3})}))):n.cancel&&e.showToast({title:"取消预约",icon:"success",duration:2e3})}})}}};t.default=u}).call(this,n(2)["default"])},425:function(e,t,n){"use strict";n.r(t);var o=n(426),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},426:function(e,t,n){}},[[419,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pagesA/confirmGuahao/confirmGuahao.js.map