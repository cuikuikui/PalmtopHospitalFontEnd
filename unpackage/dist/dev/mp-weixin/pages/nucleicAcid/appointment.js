(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/nucleicAcid/appointment"],{514:function(t,e,n){"use strict";(function(t){var e=n(3);n(25),n(26);e(n(24));var a=e(n(515));wx.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n(1)["createPage"])},515:function(t,e,n){"use strict";n.r(e);var a=n(516),i=n(518);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);n(520);var o,c=n(40),u=Object(c["default"])(i["default"],a["render"],a["staticRenderFns"],!1,null,"aec2665a",null,!1,a["components"],o);u.options.__file="pages/nucleicAcid/appointment.vue",e["default"]=u.exports},516:function(t,e,n){"use strict";n.r(e);var a=n(517);n.d(e,"render",(function(){return a["render"]})),n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(e,"components",(function(){return a["components"]}))},517:function(t,e,n){"use strict";var a;n.r(e),n.d(e,"render",(function(){return i})),n.d(e,"staticRenderFns",(function(){return o})),n.d(e,"recyclableRender",(function(){return r})),n.d(e,"components",(function(){return a}));var i=function(){var t=this,e=t.$createElement;t._self._c},r=!1,o=[];i._withStripped=!0},518:function(t,e,n){"use strict";n.r(e);var a=n(519),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},519:function(t,e,n){"use strict";(function(t){var a=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(185),r=a(n(186)),o=n(195),c={data:function(){var t=this.getDate({format:!0});return{family:[],appoints:[],index:0,date:t,selectNucle:"核酸检测（混采）",appType:"1",loadModal:!1}},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},created:function(){var e=t.getStorageSync("family_list");if(null==e||""==e)return t.showToast({title:"请先添加就诊人",icon:"none",duration:2e3}),0;this.family=e;for(var n=0;n<e.length;n++)if("1"==e[n].isDefault){this.index=n;break}for(var a=0;a<this.family.length;a++)this.appoints.push(this.family[a].a_Name+" "+this.family[a].a_Id)},mounted:function(){},methods:{toRecord:function(){t.navigateTo({url:"./record"})},radioChange:function(t){0==t.detail.value?(this.selectNucle="核酸检测（混采）",this.appType="0"):(this.selectNucle="核酸检测（单采）",this.appType="1")},bindDateChange:function(t){this.date=t.detail.value},bindPickerChange:function(t){console.log("picker发送选择改变，携带值为",t.detail.value),this.index=t.detail.value},getDate:function(t){var e=new Date,n=e.getFullYear(),a=e.getMonth()+1,i=e.getDate();return"start"===t?n-=60:"end"===t&&(n+=2),a=a>9?a:"0"+a,i=i>9?i:"0"+i,"".concat(n,"-").concat(a,"-").concat(i)},submit:function(){var e=t.getStorageSync("openid"),n={appNo:(0,o.randomNum)((0,o.getClientNowSystemTime)("yyyyMMdd"),6),appDate:this.date,appType:this.appType,appStatus:"1",fId:this.family[this.index].a_Id,openId:e,paySatus:"0",FLAG:"C"};console.log("====data====",n),r.default.post(i.AppointServlet,n).then((function(e){var a=e.split(",")[0],i=e.split(",")[1];"200"==a?(t.showLoading({title:"加载中"}),setTimeout((function(){t.hideLoading(),t.navigateTo({url:"../nucleicAcid/success?appNo="+n.appNo+"&appType="+n.appType})}),2e3)):t.showToast({title:i,icon:"none",duration:2e3})})).catch((function(t){}))}}};e.default=c}).call(this,n(1)["default"])},520:function(t,e,n){"use strict";n.r(e);var a=n(521),i=n.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=i.a},521:function(t,e,n){}},[[514,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/nucleicAcid/appointment.js.map