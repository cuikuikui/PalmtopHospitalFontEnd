(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/confirmGuahao/confirmGuahao"],{349:function(e,t,n){"use strict";(function(e){var t=n(3);n(25),n(26);t(n(24));var o=t(n(350));wx.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n(1)["createPage"])},350:function(e,t,n){"use strict";n.r(t);var o=n(351),r=n(353);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n(355);var i,u=n(40),c=Object(u["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],i);c.options.__file="pages/confirmGuahao/confirmGuahao.vue",t["default"]=c.exports},351:function(e,t,n){"use strict";n.r(t);var o=n(352);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},352:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return a})),n.d(t,"components",(function(){return o}));var r=function(){var e=this,t=e.$createElement;e._self._c},a=!1,i=[];r._withStripped=!0},353:function(e,t,n){"use strict";n.r(t);var o=n(354),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},354:function(e,t,n){"use strict";(function(e){var o=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(185),a=o(n(186)),i=n(195),u={data:function(){return{guHaoInfor:[],family:[],choseFamily1:""}},onLoad:function(e){this.family=getApp().globalData.family,this.guHaoInfor=getApp().globalData.guHaoInfor},onShow:function(){null!=this.family&&(e.setStorageSync("family",this.family),this.choseFamily1=e.getStorageSync("family").choseFamily),this.getOrderNum()},methods:{chosePerson:function(){getApp().globalData.globalJumpFlag=!0,e.redirectTo({url:"../family/listFamily"})},getReason:function(t){e.setStorageSync("gIntroduce",t.detail.value),this.gIntroduce=e.getStorageSync("gIntroduce")},getOrderNum:function(){for(var e="",t=0;t<5;t++)e+=Math.floor(10*Math.random());e=((new Date).getTime()+e).replace(/(.{4})/g,"$1 "),this.orderNum=e},confirm:function(){if(null==this.gIntroduce)return e.showToast({title:"请输入病因！",icon:"none",duration:2e3}),!1;if(null==this.family)return e.showToast({title:"请选择就诊人！",icon:"none",duration:2e3}),!1;var t={FLAG:"C",gId:(0,i.randomNum)((new Date).getFullYear(),6),gTime:this.guHaoInfor.visiTime,roomName:this.guHaoInfor.roomname,gIntroduce:this.gIntroduce,aId:this.family.fid,dId:this.guHaoInfor.dId,timePeriod:this.guHaoInfor.timePeriod,dayOfWeek:this.guHaoInfor.dayOfWeek,mornNum:this.guHaoInfor.mornNum,afternNum:this.guHaoInfor.afternNum,openId:e.getStorageSync("openid"),gOrder:this.orderNum,gPayStatus:"0",hName:this.guHaoInfor.hname,dateTimes:this.guHaoInfor.dateTimes,orderStartTime:this.guHaoInfor.orderStartTime,orderEndTime:this.guHaoInfor.orderEndTime};console.log("==预约挂号提交数据===",t),e.showModal({title:"你已预约本次挂号,请尽快完成支付",content:this.guHaoInfor.visiTime,success:function(n){n.confirm?(getApp().globalData.successFlag=!0,a.default.post(r.GuaHaoServlet,t).then((function(t){console.log("==预约成功===",t),(t[0].SYS_HEAD.ReturnCode="000000")?(e.showToast({title:t[0].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3}),setTimeout((function(){e.switchTab({url:"../guaHao/guaHao"})}),2e3)):e.showToast({title:t[0].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3})})).catch((function(t){e.showToast({title:"预约失败",icon:"success",duration:2e3})}))):n.cancel&&e.showToast({title:"取消预约",icon:"success",duration:2e3})}})}}};t.default=u}).call(this,n(1)["default"])},355:function(e,t,n){"use strict";n.r(t);var o=n(356),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=r.a},356:function(e,t,n){}},[[349,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/confirmGuahao/confirmGuahao.js.map