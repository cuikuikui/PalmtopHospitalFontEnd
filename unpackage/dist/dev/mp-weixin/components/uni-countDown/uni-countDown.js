(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/uni-countDown/uni-countDown"],{583:function(t,e,n){"use strict";n.r(e);var o=n(584),r=n(586);for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);var i,u=n(40),c=Object(u["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],i);c.options.__file="components/uni-countDown/uni-countDown.vue",e["default"]=c.exports},584:function(t,e,n){"use strict";n.r(e);var o=n(585);n.d(e,"render",(function(){return o["render"]})),n.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(e,"components",(function(){return o["components"]}))},585:function(t,e,n){"use strict";var o;n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return i})),n.d(e,"recyclableRender",(function(){return a})),n.d(e,"components",(function(){return o}));var r=function(){var t=this,e=t.$createElement;t._self._c},a=!1,i=[];r._withStripped=!0},586:function(t,e,n){"use strict";n.r(e);var o=n(587),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=r.a},587:function(t,e,n){"use strict";(function(t){var o=n(3);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(n(10)),a=n(185),i=o(n(186)),u=n(195),c={data:function(){return{countdownStr:""}},props:{orderEndTime:{type:String,default:""},gId:{type:String,default:""},payStatus:{type:String,default:""},gTime:{type:String,default:""},gWeek:{type:String,default:""},dId:{type:String,default:""}},watch:{orderEndTime:function(){this.countdowm(this.orderEndTime,this.gId,this.payStatus)},payStatus:function(){this.countdowm(this.orderEndTime,this.gId,this.payStatus)}},mounted:function(){this.countdowm(this.orderEndTime,this.gId,this.payStatus)},methods:{showPrompt:function(){var e;t.showModal((e={title:"订单支付超时",content:"支付超时，请重新下单",showCancel:!1,cancelText:"取消",confirmText:"确认"},(0,r.default)(e,"showCancel",!0),(0,r.default)(e,"confirmColor","#f55850"),(0,r.default)(e,"cancelColor","#39B54A"),(0,r.default)(e,"success",(function(t){t.confirm?(0,u.reload)():console.log("cancel")})),e))},convertWeek:function(t){return t="周日"==t?"7":"周一"==t?"1":"周二"==t?"2":"周三"==t?"3":"周四"==t?"4":"周五"==t?"5":"6",t},updatePayStatus:function(e){var n=this.dId,o=this.gTime,r=parseInt(this.convertWeek(this.gWeek.trim().split(" ")[3])),u={FLAG:"U",payFlag:"UB",dId:n,period:o,dayOfWeek:r,gId:e,gPayStatus:"2"};i.default.post(a.GuaHaoServlet,u).then((function(e){(e[0].SYS_HEAD.ReturnCode="000000")||t.showToast({title:e[0].SYS_HEAD.ReturnMessage,icon:"none",duration:2e3})})).catch((function(e){t.showToast({title:e,icon:"none",duration:2e3})}))},countdowm:function(t,e,n){var o=this;getApp().globalData.timer=setInterval((function(){var r=new Date(t.replace(/-/g,"/")),a=new Date;if(r.getTime()){var i=r.getTime()-a.getTime();if(console.log("==alltime===",i),i<=0)return console.log("=====预约失败时出发该状态====="),"0"==n&&(o.showPrompt(),o.updatePayStatus(e)),o.countdownStr="支付超时,重新提交订单",void clearInterval(getApp().globalData.timer);var u=parseInt(i/1e3%60),c=parseInt(i/1e3/60%60),d=parseInt(i/1e3/60/60%24);u<10&&(u="0"+u),c<10&&(c="0"+c);var s=c+":"+u;d>0&&(s=d+":"+s),o.countdownStr="支付剩余时间:"+s}}),1e3)}}};e.default=c}).call(this,n(1)["default"])}}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/components/uni-countDown/uni-countDown.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/uni-countDown/uni-countDown-create-component',
    {
        'components/uni-countDown/uni-countDown-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(583))
        })
    },
    [['components/uni-countDown/uni-countDown-create-component']]
]);
