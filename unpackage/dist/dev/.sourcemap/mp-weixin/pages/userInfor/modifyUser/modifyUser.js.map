{"version":3,"sources":["uni-app:///main.js","webpack:////Users/software/uni-app/个人项目/PalmtopHospitalFontEnd/pages/userInfor/modifyUser/modifyUser.vue?72fb","webpack:////Users/software/uni-app/个人项目/PalmtopHospitalFontEnd/pages/userInfor/modifyUser/modifyUser.vue?1d44","webpack:////Users/software/uni-app/个人项目/PalmtopHospitalFontEnd/pages/userInfor/modifyUser/modifyUser.vue?e0e5","webpack:////Users/software/uni-app/个人项目/PalmtopHospitalFontEnd/pages/userInfor/modifyUser/modifyUser.vue?e5ce","uni-app:///pages/userInfor/modifyUser/modifyUser.vue","webpack:////Users/software/uni-app/个人项目/PalmtopHospitalFontEnd/pages/userInfor/modifyUser/modifyUser.vue?4270"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","data","userName","modifyFlag","codeCheck","passwordCheck","newModifyFlag","infor","markPhone","markCode","markName","newPhone","code","iscode","onLoad","console","onShow","methods","inputName","conformName","uni","title","icon","duration","codeInput","sendCode","applyCode","uEnvirn","openId","FLAG","api","that","getCode","timer","date","onEnd","c2","check","conformCode","dubration","newPhoneInput","conformPhone","url","checkPwd","oldPwdChange","newPwdChange","conformPwdChange","checkPwds","conformPwds","updateUser","inforType","inforMation","queryUsreInfo","delta"],"mappings":"8JAAA,MAE2D,MAC3D,aACA,YAFAA,GAAGC,kCAAoCC,EAGvCC,EAAWC,a,gECLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,4CACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G,iCCRvB,yHAAu2B,eAAG,G,2HCoD12B,aAKA,YACA,SAGA,UACA,CACAC,gBACA,OACAC,YACAC,aACAC,aACAC,iBACAC,iBACAC,SACAC,aACAC,YACAC,YACAC,YACAC,QACAC,YAGAC,mBACA,6BACA,mBACAC,sBAEAC,oBAIAC,SAEAC,sBACA,6BAEA,6CACA,iBAEA,kBAGAC,uBACA,cACA,gBACA,YACA,kBACA,uBAMAC,aACAC,eACAC,YACAC,gBAMAC,sBACA,qBAEA,OACA,YACA,kBAEA,kBAIAC,2BACAV,wBACA,cAeAW,qBACA,WACA,GACAC,oBACAC,kCACAC,kBAEAd,wBACAe,wDACAf,0BACA,sBACA,kBACA,kBACAA,4BACAA,0BACAA,6BAEA,UACAgB,iBACA,cACAX,aACAC,QACAC,YACAC,gBAEA,UAMA,UAMA,SAXAH,aACAC,QACAC,YACAC,eAeAH,aACAC,aACAC,YACAC,kBAGA,mBACAH,aACAC,aACAC,YACAC,mBAKAS,yBACA,WACA,sDACA,aACA,MACAZ,aACAC,gBACAC,YACAC,eAEA,gBAOA,cANAH,aACAC,kBACAC,YACAC,gBAyBAU,iBACA,sCACA,6BACAC,mBACAC,iBACA,cACAC,aAGA7C,mBACA,uCACA2C,yBACAE,WAKAC,iBACA,0DAEA,sBACAjB,aACAC,gBACAC,YACAC,gBAEA,GACA,mBAOA,sCACAH,aACAC,eACAC,YACAC,gBAEA,GACA,mCACAH,aACAC,gBACAC,YACAC,gBAEA,IAnBAH,aACAC,kBACAC,YACAC,gBAEA,IAoBAe,uBAAA,WAGA,GACAX,oBACAC,kCACAhB,eACAiB,qBAEAd,2BACAe,kDACAf,2BACA,sBACA,kBACAA,4BACAA,6BAEA,UACA,mBACAK,aACAC,QACAC,YACAiB,kBAGA,mBACAnB,aACAC,QACAC,YACAC,mBAGA,wBASAiB,0BACA,qBAEA,OACA,gBACA,mBAEA,mBAGAC,wBACA,eACA,gBACA,YACA,uBAEArB,cACAsB,6CAKAC,qBACA,eAGAvB,aACAC,sBACAE,gBAIAqB,yBACA,4BAEAC,yBACA,2BACA,4BAEAC,6BACA,+BACA,mBACA,sBAEA,uBAGAC,wBACA,aAMAC,uBACA,kBACA,cACA,WACA,4CACA,uBAMA5B,aACAC,wBACAE,gBAOA0B,2BAAA,WAKA,GACArB,kCACAsB,YACAC,cACAtB,UAEAC,kDACAV,aACAC,QACAE,eAEA,qBAIA,mBAEAR,mBAIAqC,yBACA,kBAIArC,wCACA,OACAa,kCACAD,UACAE,UAGAC,kDACAV,sCAEAA,qCAKAA,gBAEAiC,aAEA,2BAMA,c,6DCrdA,yHAA0tC,eAAG,G","file":"pages/userInfor/modifyUser/modifyUser.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/userInfor/modifyUser/modifyUser.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./modifyUser.vue?vue&type=template&id=78c83d50&\"\nvar renderjs\nimport script from \"./modifyUser.vue?vue&type=script&lang=js&\"\nexport * from \"./modifyUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./modifyUser.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/userInfor/modifyUser/modifyUser.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modifyUser.vue?vue&type=template&id=78c83d50&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modifyUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modifyUser.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 修改用户名 -->\r\n\t\t<view class=\"modifyName\" v-if=\"modifyFlag==1\">\r\n\t\t\t<input type=\"text\" placeholder=\"用户名\" class=\"input\" maxlength=\"10\" @input=\"inputName\" />\r\n\t\t\t<text style=\"font-size: 20rpx;color:#C8C7CC;padding: 20rpx 30rpx;\">用户名只能修改1次(5~24个字)</text>\r\n\t\t\t<view class=\"conform\" :style=\"markName==true?'background-color: #FC603A;color: white;':''\" @click=\"conformName\">确认修改</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 修改手机号验证码 -->\r\n\t\t<view class=\"modifPhone\" v-if=\"modifyFlag==2&&!newModifyFlag==true\">\r\n\t\t<!-- <view class=\"modifPhone\" v-if=\"modifyFlag==2&&!newModifyFlag==false\"> -->\r\n\t\t\t<view class=\"phone\">\r\n\t\t\t\t<view class=\"phone-1\">\r\n\t\t\t\t\t<text>手机号</text>\r\n\t\t\t\t\t<text style=\"margin-right: 100rpx;\">{{infor}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"getcode\" @click=\"getCode\">\r\n\t\t\t\t\t<text>{{ c2 || '获取验证码' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"code\">\r\n\t\t\t\t<text>验证码</text>\r\n\t\t\t\t<input type=\"text\" @input=\"codeInput\" placeholder=\"请输入验证码\" class=\"input\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"conform\" @click=\"conformCode\" :class=\"markCode==true?'codeCheck':''\">验证后绑定新手机</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"modifPhone\" v-if=\"modifyFlag==2&&newModifyFlag==true\">\r\n\t\t\t<view class=\"code\">\r\n\t\t\t\t<text>手机号</text>\r\n\t\t\t\t<input type=\"text\" @input=\"newPhoneInput\"  placeholder=\"请输入新手机号\" class=\"input\" />\r\n\t\t\t</view>\n\t\t\t<view class=\"conform\" @click=\"conformPhone\" :class=\"markPhone==true?'codeCheck':''\">确认绑定新手机</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 修改密码 -->\r\n\t\t<!-- <view v-if=\"modifyFlag==3\"> -->\r\n\t\t\t<!-- <view class=\"password\">\r\n\t\t\t\t<input type=\"password\" placeholder=\"旧密码\" @input=\"oldPwdChange\" />\r\n\t\t\t\t<input type=\"password\" placeholder=\"新密码\" @input=\"newPwdChange\" />\r\n\t\t\t\t<input type=\"password\" placeholder=\"确认密码\" @input=\"conformPwdChange\" style=\"margin-bottom: 20rpx;\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"conform\" :class=\"passwordCheck==true?'codeCheck':''\" @click=\"conformPwds\">确认并保存</view> -->\r\n\t\t<!-- </view> -->\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\t// WechatUserUpdate,\r\n\t\t// WechatUserQuery\n\t\tuserServlet\r\n\t} from '../../common/api.js'\r\n\timport api from '../../common/request.js'\r\n\timport {\r\n\t\t$wuxCountDown\r\n\t} from '../../../components/index'\r\n\tvar zhenzisms = require('../../common/zhenzisms.js')\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuserName: '',\r\n\t\t\t\tmodifyFlag: 1,\r\n\t\t\t\tcodeCheck: false,\r\n\t\t\t\tpasswordCheck: true,\r\n\t\t\t\tnewModifyFlag: false,\r\n\t\t\t\tinfor: '',\r\n\t\t\t\tmarkPhone: false,\r\n\t\t\t\tmarkCode: false,\r\n\t\t\t\tmarkName: '',\n\t\t\t\tnewPhone:'',\r\n\t\t\t\tcode: \"\", //获取当前输入的验证码\r\n\t\t\t\tiscode: \"\" //获取手机接受的验证码 \r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.modifyFlag = options.modifyFlag\r\n\t\t\tthis.infor = options.infor\r\n\t\t\tconsole.log(options.infor)\r\n\t\t},\r\n\t\tonShow() {\r\n\r\n\t\t\t// this.checkPwd(this.oldPwd,this.conformPwd)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//------------------------ 修改用户名-----------------------------\r\n\t\t\tinputName: function(e) {\r\n\t\t\t\tthis.userName = e.detail.value\r\n\t\t\t\t// console.log(typeof(e.detail.value))\r\n\t\t\t\tif (e.detail.value == '' && e.detail.value.length == 0) {\r\n\t\t\t\t\tthis.markName = false\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.markName = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tconformName: function() {\r\n\t\t\t\tvar inforType = 'uName'\r\n\t\t\t\tvar inforMation = this.userName\r\n\t\t\t\tvar message = \"用户名修改成功\"\r\n\t\t\t\tif (this.userName != '') {\r\n\t\t\t\t\tthis.updateUser(inforType, inforMation, message)\r\n\t\t\t\t\t// this.queryUsreInfo()\n\t\t\t\t\t// uni.redirectTo({\r\n\t\t\t\t\t// \turl:'../userInfor?u_Name='+this.userName\r\n\t\t\t\t\t// })\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入用户名',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//------------------------ 修改手机号-----------------------------\r\n\t\t\t// 验证码输入\r\n\t\t\tcodeInput: function(e) {\r\n\t\t\t\tvar myCode = e.detail.value; //从页面获取到用户输入的验证码\r\n\t\t\t\t// this.code = myCode\r\n\t\t\t\tif (myCode != '') {\r\n\t\t\t\t\tthis.code = myCode\r\n\t\t\t\t\tthis.markCode = true //把获取到的密码赋值给全局变量Date中的password\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.markCode = false //把获取到的密码赋值给全局变量Date中的password\r\n\t\t\t\t}\r\n\t\t\t\t// this.code = e.detail.value\r\n\t\t\t},\n\t\t\tasync sendCode(code){\n\t\t\t\t\tconsole.log(\"xxxxxx\",code)\n\t\t\t\t\tthis.timer()\n\t\t\t\t\t// zhenzisms.client.init('https://sms_developer.zhenzikj.com', '101155', '7acd8ebc-d61f-45f7-9382-64817f679202');\n\t\t\t\t\t// zhenzisms.client.send(function(res) {\n\t\t\t\t\t// \tif (res.data.code == 0) {\n\t\t\t\t\t// \t\tthat.timer()\n\t\t\t\t\t// \t\treturn;\n\t\t\t\t\t// \t}\n\t\t\t\t\t// \tuni.showToast({\n\t\t\t\t\t// \t\ttitle: res.data.data,\n\t\t\t\t\t// \t\ticon: 'none',\n\t\t\t\t\t// \t\tduration: 2000\n\t\t\t\t\t// \t})\n\t\t\t\t\t// }, currentPhone, '海隆网' + locaCode + '(登录验证码。工作人员不会向你索要，请勿向任何人透露，以免造成账户或资金损失您的验证码为。')\n\t\t\t},\n\t\t\t// 申请验证码\n\t\t\tapplyCode(){\n\t\t\t\tlet that = this\n\t\t\t\tvar data = {\n\t\t\t\t\tuEnvirn: 'MP-WEIXIN',\n\t\t\t\t\topenId: uni.getStorageSync(\"openid\"),\n\t\t\t\t\tFLAG: \"applyCode\"\n\t\t\t\t}\n\t\t\t\tconsole.log(\"======\",data);\n\t\t\t\tapi.post(userServlet, data).then(async res => {\n\t\t\t\t\tconsole.log(\"==验证码===\",res);\n\t\t\t\t\tlet status = res.split(',')[0];\n\t\t\t\t\tlet code = res.split(',')[1];\n\t\t\t\t\tlet message = res.split(',')[2];\n\t\t\t\t\tconsole.log(\"==status==\",status);\n\t\t\t\t\tconsole.log(\"==code==\",code);\n\t\t\t\t\tconsole.log(\"==message==\",message);\n\t\t\t\t\t//成功时回调函数\n\t\t\t\t\tif(status =='200'){\n\t\t\t\t\t\tthat.iscode = code;\n\t\t\t\t\t\tawait that.sendCode(code);\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: message,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}else if(status =='201') {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: message,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}else if(status =='202'){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: message,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}else if(status =='203'){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: message,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: \"系统异常\",\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: \"系统异常\",\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t},\r\n\t\t\t//触发获取验证码功能\r\n\t\t\tasync getCode() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar myreg = /^(14[0-9]|13[0-9]|15[0-9]|17[0-9]|18[0-9])\\d{8}$$/;\r\n\t\t\t\tvar currentPhone = this.infor;\r\n\t\t\t\tif (currentPhone == \"\") {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '手机号不能为空',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (!myreg.test(currentPhone)) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入正确的手机号',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\n\t\t\t\t\tawait that.applyCode()\r\n\t\t\t\t\t// var locaCode = \"\";\r\n\t\t\t\t\t// for (var i = 0; i < 6; i++) {\r\n\t\t\t\t\t// \tlocaCode += Math.floor(Math.random() * 10);\r\n\t\t\t\t\t// }\r\n\t\t\t\t\t// this.isCode = locaCode\r\n\t\t\t\t\t// console.log(this.isCode)\r\n\t\t\t\t\t// that.timer()\r\n\t\t\t\t\t// zhenzisms.client.init('https://sms_developer.zhenzikj.com', '101155', '7acd8ebc-d61f-45f7-9382-64817f679202');\r\n\t\t\t\t\t// zhenzisms.client.send(function(res) {\r\n\t\t\t\t\t// \tif (res.data.code == 0) {\r\n\t\t\t\t\t// \t\tthat.timer()\r\n\t\t\t\t\t// \t\treturn;\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t\t// \t\ttitle: res.data.data,\r\n\t\t\t\t\t// \t\ticon: 'none',\r\n\t\t\t\t\t// \t\tduration: 2000\r\n\t\t\t\t\t// \t})\r\n\t\t\t\t\t// }, currentPhone, '海隆网' + locaCode + '(登录验证码。工作人员不会向你索要，请勿向任何人透露，以免造成账户或资金损失您的验证码为。')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttimer: function() {\n\t\t\t\tif (this.c2 && this.c2.interval) return !1\n\t\t\t\tthis.c2 = new $wuxCountDown({\n\t\t\t\t\tdate: +(new Date) + 10000,\n\t\t\t\t\tonEnd() {\n\t\t\t\t\t\tthis.setData({\n\t\t\t\t\t\t\tc2: '重新发送',\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\trender(date) {\n\t\t\t\t\t\tconst sec = this.leadingZeros(date.sec, 2) + ' 秒 '\n\t\t\t\t\t\tdate.sec !== 0 && this.setData({\n\t\t\t\t\t\t\tc2: sec\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t},\n\t\t\tcheck: function() {\n\t\t\t\tvar myreg = /^(14[0-9]|13[0-9]|15[0-9]|17[0-9]|18[0-9])\\d{8}$$/;\n\t\t\t\t//验证手机号\n\t\t\t\tif (this.phone == \"\") {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '手机号不能为空',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (!myreg.test(this.phone)) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请输入正确的手机号',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t})\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (this.password == \"\" && this.loginMode == 1) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '密码不能为空',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t\treturn false;\n\t\t\t\t} else if (this.code == \"\" && this.loginMode == 2) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '验证码不能为空',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 验证码校验\n\t\t\tconformCode: function() {\n\t\t\t\tvar inforType = \"uPassword\"\n\t\t\t\t//这里请求接口\n\t\t\t\tvar data = {\n\t\t\t\t\tuEnvirn: 'MP-WEIXIN',\n\t\t\t\t\topenId: uni.getStorageSync(\"openid\"),\n\t\t\t\t\tcode: this.code,\n\t\t\t\t\tFLAG: \"validateCode\"\n\t\t\t\t}\n\t\t\t\tconsole.log(\"===rrr===\",data);\n\t\t\t\tapi.post(userServlet, data).then(res => {\n\t\t\t\t\tconsole.log(\"===res===\",res);\n\t\t\t\t\tlet status = res.split('*')[0];\n\t\t\t\t\tlet message = res.split('*')[1];\n\t\t\t\t\tconsole.log(\"==status==\",status);\n\t\t\t\t\tconsole.log(\"==message==\",message);\n\t\t\t\t\t//成功时回调函数\n\t\t\t\t\tif(status =='200'){\n\t\t\t\t\t\tthis.newModifyFlag = true\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: message,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tdubration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.newModifyFlag = false\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: message,\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).catch(err => {\n\t\t\t\t\t// uni.showToast({\n\t\t\t\t\t// \ttitle: '登录失败',\n\t\t\t\t\t// \ticon: 'none',\n\t\t\t\t\t// \tduration: 1000\n\t\t\t\t\t// });\n\t\t\t\t})\n\t\t\t\t\n\t\t\t},\n\t\t\tnewPhoneInput:function(e){\n\t\t\t\tvar newPhone = e.detail.value//从页面获取到用户输入的验证码\n\t\t\t\t// this.code = myCode\n\t\t\t\tif (newPhone != '') {\n\t\t\t\t\tthis.newPhone = newPhone\n\t\t\t\t\tthis.markPhone = true //把获取到的密码赋值给全局变量Date中的password\n\t\t\t\t} else {\n\t\t\t\t\tthis.markPhone = false //把获取到的密码赋值给全局变量Date中的password\n\t\t\t\t}\n\t\t\t},\n\t\t\tconformPhone:function(){\n\t\t\t\tvar inforType = 'uPhone'\n\t\t\t\tvar inforMation = this.newPhone\n\t\t\t\tvar message = \"手机号修改成功\"\n\t\t\t\tthis.updateUser(inforType,inforMation,message)\n\t\t\t\t// this.queryUsreInfo()\n\t\t\t\tuni.redirectTo({\n\t\t\t\t\turl:'../userInfor?u_Phone='+this.newPhone\n\t\t\t\t})\n\t\t\t\t// console.log(this.newPhone)\n\t\t\t},\r\n\t\t\t//------------------------ 修改密码-----------------------------\r\n\t\t\tcheckPwd: function(pwd) {\r\n\t\t\t\tif (pwd == this.infor) {\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '旧密码输入错误,请重新输入',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\toldPwdChange: function(e) {\r\n\t\t\t\tthis.oldPwd = e.detail.value\r\n\t\t\t},\r\n\t\t\tnewPwdChange: function(e) {\r\n\t\t\t\tthis.checkPwd(this.oldPwd)\r\n\t\t\t\tthis.newPwd = e.detail.value\r\n\t\t\t},\r\n\t\t\tconformPwdChange: function(e) {\r\n\t\t\t\tthis.conformPwd = e.detail.value\r\n\t\t\t\tif (e.detail.value != \"\") {\r\n\t\t\t\t\tthis.passwordCheck = true\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.passwordCheck = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcheckPwds: function(newPwd, conformPwd) {\r\n\t\t\t\tif (newPwd == conformPwd) {\r\n\t\t\t\t\treturn true\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tconformPwds: function() {\r\n\t\t\t\tvar inforType = 'uPassword'\r\n\t\t\t\tvar inforMation = this.newPwd\r\n\t\t\t\tvar message = \"密码修改成功\"\r\n\t\t\t\tif (this.checkPwds(this.newPwd, this.conformPwd)) {\r\n\t\t\t\t\tthis.updateUser(inforType, inforMation, message)\r\n\t\t\t\t\t// this.queryUsreInfo()\r\n\t\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t\t// \turl:'../userInfor'\r\n\t\t\t\t\t// })\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '两次密码输入不一致，请重新输入',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t// if(this.oldPwd==this.conformPwd){\r\n\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tupdateUser: function(inforType, inforMation, message) {\r\n\t\t\t\t// console.log(inforType,inforMation)\r\n\t\t\t\t// console.log('22222222222222222')\r\n\t\t\t\t// console.log(uni.getStorageSync('openid'))\r\n\t\t\t\t// console.log('22222222222222222')\r\n\t\t\t\tvar data = {\r\n\t\t\t\t\topenId: uni.getStorageSync('openid'),\r\n\t\t\t\t\tinforType: inforType,\r\n\t\t\t\t\tinforMation: inforMation,\n\t\t\t\t\tFLAG:\"U\"\r\n\t\t\t\t}\r\n\t\t\t\tapi.post(userServlet, data).then(res => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: message,\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.queryUsreInfo()\r\n\t\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t\t// \turl:'../userInfor'\r\n\t\t\t\t\t// })\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t//失败时回调函数\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//获取用户信息的接口\r\n\t\t\tqueryUsreInfo: function() {\r\n\t\t\t\tvar uEnvirn = 'MP-WEIXIN'\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tvar uEnvirn = 'APP-PLUS'\r\n\t\t\t\t// #endif\r\n\t\t\t\tconsole.log(uni.getStorageSync('openid'))\r\n\t\t\t\tvar data2 = {\r\n\t\t\t\t\topenId: uni.getStorageSync('openid'),\r\n\t\t\t\t\tuEnvirn: uEnvirn,\n\t\t\t\t\tFLAG:\"R\"\r\n\t\t\t\t\t// session_key:uni.getStorageSync('session_key'),\r\n\t\t\t\t}\r\n\t\t\t\tapi.post(userServlet, data2).then(res => {\r\n\t\t\t\t\tuni.removeStorageSync('WeChatUserInfo')\r\n\t\t\t\t\t//成功时回调函数\r\n\t\t\t\t\tuni.setStorageSync('WeChatUserInfo', res)\r\n\t\t\t\t\t// uni.setStorageSync('LoginIndex', 1)\r\n\t\t\t\t\t// uni.redirectTo({\r\n\t\t\t\t\t// \turl: '../userInfor',\r\n\t\t\t\t\t// })\n\t\t\t\t\tuni.navigateBack({\n\t\t\t            //关闭当前页面，返回上一页面或多级页面。\n\t\t\t            delta:1\n\t\t\t        });\r\n\t\t\t\t}).catch(err => {\r\n\t\t\t\t\t//失败时回调函数\r\n\t\t\t\t\t// \r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.content {\r\n\t\twidth: 100%;\r\n\t\theight: 1200rpx;\r\n\t\tbackground-color: #F1F1F1\r\n\t}\r\n\r\n\t/* 修改用户名 */\r\n\t.modifyName {\r\n\t\t/* padding-left:30rpx; */\r\n\t}\r\n\r\n\t.modifyName .input {\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #C8C7CC;\r\n\t\tbackground-color: white;\r\n\t}\r\n\r\n\t.modifyName .conform {\r\n\t\tdisplay: flex;\r\n\t\tmargin: 20rpx 30rpx;\r\n\t\tborder-radius: 15rpx;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tcolor: white;\r\n\t\tbackground-color: #999999;\r\n\t}\r\n\r\n\t/* 修改手机号 */\r\n\t.modifPhone {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.modifPhone .phone {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t\tbackground-color: white;\r\n\t\tpadding: 20rpx 0rpx\r\n\t}\r\n\r\n\t.modifPhone .phone .phone-1 {\r\n\t\twidth: 60%;\r\n\t\tmargin-left: 45rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\t/* background-color: #09FC76; */\r\n\t}\r\n\r\n\t.modifPhone .phone .getcode {\r\n\t\twidth: 150rpx;\r\n\t\tbackground-color: #FC603A;\r\n\t\tcolor: white;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-right: 70rpx;\n\t\tfont-size: 15px;\r\n\t\tpadding: 10rpx 10rpx;\r\n\t\tborder-radius: 5rpx;\r\n\t}\r\n\r\n\t.modifPhone .code {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.modifPhone .code {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tmargin-top: 3rpx;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t\t/* margin-left: -10rpx; */\r\n\t\tbackground-color: white;\r\n\t\tpadding: 20rpx 0rpx\r\n\t}\r\n\r\n\t.modifPhone .code .input {\r\n\t\tmargin-right: 175rpx;\r\n\t}\r\n\r\n\t.modifPhone .conform {\r\n\t\twidth: 600rpx;\r\n\t\tpadding: 15rpx 0rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tcolor: #767676;\r\n\t\tbackground-color: #CCCCCC;\r\n\t\tmargin-top: 40rpx;\r\n\t\tborder-radius: 5rpx;\r\n\t\tmargin-left: 70rpx;\r\n\t}\r\n\r\n\t.modifPhone .codeCheck {\r\n\t\tbackground-color: #FC603A;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t/* 修改密码 */\r\n\t.password {\r\n\t\t/* margin: 10rpx 30rpx; */\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground-color: white;\r\n\t}\r\n\r\n\t.password input {\r\n\t\tborder: 1rpx solid #DCDBDB;\r\n\t\tmargin: 10rpx 30rpx;\r\n\t\tpadding: 20rpx 20rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t\tbackground-color: #DDDDDD;\r\n\t\tborder-radius: 5rpx;\r\n\t}\r\n\r\n\t.conform {\r\n\t\tdisplay: flex;\r\n\t\tmargin: 30rpx 30rpx;\r\n\t\tborder-radius: 5rpx;\r\n\t\tjustify-content: center;\r\n\t\tfont-weight: bold;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tcolor: white;\r\n\t\tbackground-color: #999999;\r\n\t}\r\n\r\n\t.codeCheck {\r\n\t\tbackground-color: #1C16F2;\r\n\t\tcolor: white;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tborder-radius: 5rpx;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modifyUser.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./modifyUser.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}