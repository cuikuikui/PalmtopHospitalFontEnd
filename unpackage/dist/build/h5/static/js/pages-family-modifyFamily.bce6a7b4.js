(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-family-modifyFamily"],{"0508":function(e,t,a){var i=a("e491");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=a("4f06").default;n("4c1f7d52",i,!0,{sourceMap:!1,shadowMode:!1})},2977:function(e,t,a){"use strict";a.r(t);var i=a("29b0"),n=a("2edb");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("8cba");var r,d=a("f0c5"),l=Object(d["a"])(n["default"],i["b"],i["c"],!1,null,"184d123c",null,!1,i["a"],r);t["default"]=l.exports},"29b0":function(e,t,a){"use strict";var i,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(t){arguments[0]=t=e.$handleEvent(t),e.formSubmit.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"info"},[a("v-uni-view",{staticClass:"item"},[a("v-uni-text",[e._v("姓名:")]),a("v-uni-view",{staticClass:"right"},[a("v-uni-input",{attrs:{type:"text",name:"name",value:e.modifyFamily.a_Name,placeholder:e.modifyFamily.a_Name,focus:e.focus}})],1)],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-radio-group",{staticClass:"radio-group",attrs:{name:"gender"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},[a("v-uni-label",{staticClass:"radio"},[e._v("男"),a("v-uni-radio",{attrs:{value:1,checked:"男"==e.modifyFamily.a_Sex?"checked":""}})],1),a("v-uni-label",{staticClass:"radio"},[e._v("女"),a("v-uni-radio",{attrs:{value:0,checked:"女"==e.modifyFamily.a_Sex?"checked":""}})],1)],1)],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",[e._v("手机号:")]),a("v-uni-view",{staticClass:"right"},[a("v-uni-input",{attrs:{name:"tel",type:"number",value:e.modifyFamily.a_Phone,placeholder:e.modifyFamily.a_Phone,focus:e.focus}})],1)],1),a("v-uni-view",{staticClass:"item"},[a("v-uni-text",[e._v("身份证")]),a("v-uni-view",{staticClass:"right"},[a("v-uni-input",{attrs:{name:"idCard",type:"text",value:e.modifyFamily.a_IDCard,placeholder:e.modifyFamily.a_IDCard,focus:e.focus}})],1)],1)],1),a("v-uni-button",{staticClass:"save",attrs:{"form-type":"submit"}},[e._v("保存")]),a("v-uni-button",{staticClass:"delete",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.deletes.apply(void 0,arguments)}}},[e._v("删除就诊人")]),a("v-uni-button",{staticClass:"delete",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[e._v("取消")])],1)],1)},o=[];a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}))},"2edb":function(e,t,a){"use strict";a.r(t);var i=a("f6c2"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"591a":function(e,t,a){a("a9e3"),a("d3b7"),a("e25e"),a("ac1f"),a("5319");var i=function(e){if(!/(^\d{15}$)|(^\d{17}(\d|X|x)$)/.test(e))return!1;var t={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};if(!t[parseInt(e.substr(0,2))])return!1;var a=(e.substr(6,4)+"-"+Number(e.substr(10,2))+"-"+Number(e.substr(12,2))).replace(/-/g,"/"),i=new Date(a);if(a!=i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate())return!1;for(var n=0,o=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],r="10X98765432",d=0;d<e.length-1;d++)n+=e[d]*o[d];var l=r[n%11];return e[e.length-1]==l};function n(e){return new Promise((function(t,a){wx.getFileSystemManager().readFile({filePath:e,encoding:"base64",success:function(e){t(e)}})}))}e.exports={isCardID:i,getBase64:n}},"67fc":function(e,t){var a="/WechatUserAdd",i="/WechatUserQuery",n="/GetHospitalByCity",o="/GetOfficeByHospitalId",r="/WechatUserInsert",d="/WechatUserQuery",l="/GetRoomsByOfficeId",s="/scheduleList",c="/GetDoctorsByRoomId",u="/GetDoctorsByDay",f="/AskerInsert",v="/AskerQuery",m="/AskerUpdate",y="/AskerDelete",p="/GuaHaoInsert",h="/GetGuaHaoInfoByOpenId",g="/AddScheduleNum",b="/PayGuaHaoOK",w="/GetHospitalByName",C="/InsertCollection",G="/DeleteCollection",I="/GetCollectHospitalByOpenid",k="/GetCollectDoctorByOpenid",x="/GetNoticeByHospitalId",D="/GetAllDoctorList",B="/GetDoctorsByNamePercent",_="/GetGuaHaoHospitals",H="/AddEvaluate";e.exports={getMainPage1:a,getMainPage2:i,GetHospitalByCity:n,GetOfficeByHospitalId:o,WechatUserInsert:r,WechatUserQuery:d,GetRoomsByOfficeId:l,scheduleList:s,GetDoctorsByRoomId:c,GetDoctorsByDay:u,AskerInsert:f,AskerQuery:v,AskerUpdate:m,AskerDelete:y,GuaHaoInsert:p,GetGuaHaoInfoByOpenId:h,AddScheduleNum:g,PayGuaHaoOK:b,GetHospitalByName:w,InsertCollection:C,DeleteCollection:G,GetCollectHospitalByOpenid:I,GetCollectDoctorByOpenid:k,GetNoticeByHospitalId:x,GetAllDoctorList:D,GetDoctorsByNamePercent:B,GetGuaHaoHospitals:_,AddEvaluate:H}},"8cba":function(e,t,a){"use strict";var i=a("0508"),n=a.n(i);n.a},c89b:function(e,t,a){a("99af"),a("d3b7");var i=function(e,t){return new Promise((function(a,i){uni.request({url:"".concat(getApp().globalData.host).concat(e),method:t.method,data:"GET"===t.method?JSON.stringify(t.data):t.data,header:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},success:function(e){200===e.statusCode?a(e.data):i(e.data)},fail:function(e){i(e.data)}})}))},n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(e,{method:"GET",data:t})},o=function(e,t){return i(e,{method:"POST",data:t})},r=function(e,t){return i(e,{method:"PUT",data:t})},d=function(e,t){return i(e,{method:"DELETE",data:t})};e.exports={get:n,post:o,put:r,remove:d}},e491:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"uni-page-body[data-v-184d123c]{display:block;min-height:100%;background-color:#f6f6f6;font-family:微软雅黑;font-size:%?30?%;color:#353535;position:relative}.info[data-v-184d123c]{background-color:#fff}.item[data-v-184d123c]{height:%?90?%;-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:flex;margin-left:%?30?%;border-bottom:%?1?% solid #eee}.text1[data-v-184d123c]{font-size:%?30?%}uni-input placeholder[data-v-184d123c]{color:red}.area[data-v-184d123c]{width:%?150?%;border:%?1?% solid #939393}uni-button[data-v-184d123c]{width:92%;margin-top:%?30?%}.remind[data-v-184d123c]{padding-top:%?6?%;color:#e64340;font-size:%?20?%}.save[data-v-184d123c]{background-color:#ffc800;color:#fff}.right[data-v-184d123c]{padding-left:%?30?%;width:75%;display:-webkit-box;display:-webkit-flex;display:flex}.image[data-v-184d123c]{width:%?40?%;height:%?40?%;margin-left:%?30?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}uni-input[data-v-184d123c]{width:100%}uni-radio-group[data-v-184d123c]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}uni-radio-group .radio[data-v-184d123c]{margin-left:%?20?%}uni-radio-group uni-radio[data-v-184d123c]{margin-left:%?10?%}body.?%PAGE?%[data-v-184d123c]{background-color:#f6f6f6}",""]),e.exports=t},f6c2:function(e,t,a){"use strict";var i=a("ee27");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("67fc"),o=i(a("c89b")),r=i(a("591a")),d={data:function(){return{name:"请填写您的姓名",tel:"请填写您的联系方式",index:"0",modifyFamily:"",gender:""}},onLoad:function(e){this.fId=e.fId,this.family=uni.getStorageSync("family_list");for(var t=this.fId,a=0;a<this.family.length;a++)if(this.family[a].a_Id==t){this.modifyFamily=this.family[a],this.gender=this.family[a].a_Sex;break}},methods:{radioChange:function(e){0==e.detail.value?this.gender="女":this.gender="男"},deletes:function(){var e={aId:this.fId};uni.showModal({title:"提示",content:"确认删除该就诊人信息吗？",success:function(t){t.confirm?o.default.post(n.AskerDelete,e).then((function(e){uni.redirectTo({url:"../family/listFamily"})})).catch((function(e){})):t.cancel&&uni.redirectTo({url:"../family/listFamily"})}})},cancel:function(){uni.redirectTo({url:"../family/listFamily"})},formSubmit:function(e){var t=this;if(""==e.detail.value.name)"请填写您的姓名！";else if(""==e.detail.value.tel)"请填写您的手机号！";else if(/^1(3|4|5|7|8)\d{9}$/.test(e.detail.value.tel))if(""==e.detail.value.idCard)"请填写您的身份证号";else if(0==r.default.isCardID(e.detail.value.idCard))"身份证号格式不正确";else{var a={aName:e.detail.value.name,aSex:t.gender,aPhone:e.detail.value.tel,aId:t.fId,openId:uni.getStorageSync("openid"),aIDCard:e.detail.value.idCard};o.default.post(n.AskerUpdate,a).then((function(e){uni.redirectTo({url:"../family/listFamily"})})).catch((function(e){}))}else"手机号格式不正确"}}};t.default=d}}]);