(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/doctorDetail/doctorDetail"],{"1ca4":function(e,t,a){"use strict";var n=a("e1a4"),c=a.n(n);c.a},"1da0":function(e,t,a){"use strict";(function(e){a("d76e");n(a("66fd"));var t=n(a("ddda"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},3836:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("f735"),c=o(a("8537"));function o(e){return e&&e.__esModule?e:{default:e}}var d=[],i=(a("4cfc"),{data:function(){return{dimg:"",dname:"",drole:"",hname:"",rname:"",dfee:"",dintroduce:"",sch_listData:[],dateArray:[],collected:!1}},onLoad:function(e){this.dId=e.doctorId,this.dname=e.dname,this.dcount=e.dcount,this.dreceive=e.dreceive,this.dfee=e.dfee,this.drole=e.drole,this.dintroduce=e.dintroduce,this.hname=e.hname,this.rname=e.rname,this.dimg=e.dimg},onShow:function(){var t=this;t.collectList=e.getStorageSync("collectDoctors"),t.collectShow();var a={dId:this.dId};c.default.post(n.scheduleList,a).then((function(e){var a=t.getSevenDays(),n=e,c=t.dealData(n);t.dateArray=a,t.sch_listData=c})).catch((function(e){}))},methods:{collectShow:function(){for(var e=this.collectList,t=0;t<e.length;t++)if(this.dId==e[t].did){this.collected=!0,this.cid=e[t].cid;break}},collectedAdd:function(){var t={did:this.dId,openId:e.getStorageSync("openid")};c.default.post(n.InsertCollection,t).then((function(t){e.removeStorageSync("collectDoctors")})).catch((function(e){}))},collectedDelete:function(){var e={cId:this.cid};c.default.post(n.DeleteCollection,e).then((function(e){})).catch((function(e){}))},collectedUpdate:function(){var t={openId:e.getStorageSync("openid")};c.default.post(n.GetCollectDoctorByOpenid,t).then((function(e){wx.setStorageSync("collectDoctors",e)})).catch((function(e){}))},onattention:function(){1==this.collected?(this.collectedDelete(),e.removeStorageSync("collectDoctors"),this.collectedUpdate(),this.collectShow(),this.collected=!1):(this.collected=!0,this.collectedAdd(),e.removeStorageSync("collectDoctors"),this.collectedUpdate(),this.collectShow())},getWeekByDay:function(e){var t=new Date(Date.parse(e.replace(/-/g,"/"))),a=new Array("周日","周一","周二","周三","周四","周五","周六");return a[t.getDay()]},getSevenDays:function(){for(var e=[],t={},a="",n=0;n<7;n++){var c=new Date,o=new Date;o.setDate(c.getDate()+n);var i=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,r=o.getDate()<10?"0"+o.getDate():o.getDate(),l=o.getFullYear()+"-"+i+"-"+r,u=i+"/"+r;"周一"==this.getWeekByDay(l)?a=0:"周二"==this.getWeekByDay(l)?a=1:"周三"==this.getWeekByDay(l)?a=2:"周四"==this.getWeekByDay(l)?a=3:"周五"==this.getWeekByDay(l)?a=4:"周六"==this.getWeekByDay(l)?a=5:"周日"==this.getWeekByDay(l)&&(a=6),t={date_text:u,weekName:this.getWeekByDay(l),weekNum:a},e.push(t)}return d=e,e},getWeekText:function(e){var t="";return t=1==e?"周一":2==e?"周二":3==e?"周三":4==e?"周四":5==e?"周五":6==e?"周六":"周日",t},clickDoctor:function(t){for(var a=t.currentTarget.dataset,n=a.dayofweek,c=this.getWeekText(n),o="",i=0;i<d.length;i++)d[i].weekNum==n-1&&(o=d[i].date_text);var r=new Date;o=r.getFullYear()+"/"+o;var l=a.timeperiod;l=1==l?"上午":"下午";var u=u=a.smorningnum,f=a.safternoonnum,s=a.dayofweek,h=a.timeperiod,g=a.did;1==a.timeperiod?u-=1:f-=1;var y=o+" "+l+" "+c,m=this.rname,v=this.dfee,D=this.drole,k={mornNum:u,afternNum:f,dayOfWeek:s,timePeriod:h,dId:g,visiTime:y,roomname:m,dfee:v,drole:D,hname:this.hname};getApp().globalData.guHaoInfor=k,e.navigateTo({url:"../confirmGuahao/confirmGuahao"})},dealData:function(e){for(var t=d[0].weekNum,a=[1,2,3,4,5,6,7,1,2,3,4,5,6,7],n=[],c=[],o=[],i=[],r=[],l=[],u=[],f=[],s=[],h=[],g=[],y=[],m=[],v=[],D=0;D<e.length;D++)1==e[D].timePeriod?e[D].dayOfWeek==a[t]?n=n.concat(e[D]):e[D].dayOfWeek==a[t+1]?c=c.concat(e[D]):e[D].dayOfWeek==a[t+2]?o=o.concat(e[D]):e[D].dayOfWeek==a[t+3]?i=i.concat(e[D]):e[D].dayOfWeek==a[t+4]?r=r.concat(e[D]):e[D].dayOfWeek==a[t+5]?l=l.concat(e[D]):e[D].dayOfWeek==a[t+6]&&(u=u.concat(e[D])):e[D].dayOfWeek==a[t]?f=f.concat(e[D]):e[D].dayOfWeek==a[t+1]?s=s.concat(e[D]):e[D].dayOfWeek==a[t+2]?h=h.concat(e[D]):e[D].dayOfWeek==a[t+3]?g=g.concat(e[D]):e[D].dayOfWeek==a[t+4]?y=y.concat(e[D]):e[D].dayOfWeek==a[t+5]?m=m.concat(e[D]):e[D].dayOfWeek==a[t+6]&&(v=v.concat(e[D]));var k=[{time_title:"上午",Mon_text:n,Tues_text:c,Wed_text:o,Thur_text:i,Fri_text:r,Sat_text:l,Sun_text:u},{time_title:"下午",Mon_text:f,Tues_text:s,Wed_text:h,Thur_text:g,Fri_text:y,Sat_text:m,Sun_text:v}];return k}}});t.default=i}).call(this,a("543d")["default"])},"9bdc":function(e,t,a){"use strict";a.r(t);var n=a("3836"),c=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=c.a},c734:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var c=function(){var e=this,t=e.$createElement;e._self._c},o=[]},ddda:function(e,t,a){"use strict";a.r(t);var n=a("c734"),c=a("9bdc");for(var o in c)"default"!==o&&function(e){a.d(t,e,(function(){return c[e]}))}(o);a("1ca4");var d,i=a("f0c5"),r=Object(i["a"])(c["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],d);t["default"]=r.exports},e1a4:function(e,t,a){}},[["1da0","common/runtime","common/vendor"]]]);