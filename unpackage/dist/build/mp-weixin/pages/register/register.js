(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"0af1":function(t,o,e){"use strict";var n=e("5610"),i=e.n(n);i.a},2076:function(t,o,e){"use strict";var n;e.d(o,"b",(function(){return i})),e.d(o,"c",(function(){return r})),e.d(o,"a",(function(){return n}));var i=function(){var t=this,o=t.$createElement;t._self._c;t._isMounted||(t.e0=function(o){t.isPassword=!t.isPassword})},r=[]},"4d88":function(t,o,e){"use strict";e.r(o);var n=e("2076"),i=e("8169");for(var r in i)"default"!==r&&function(t){e.d(o,t,(function(){return i[t]}))}(r);e("0af1");var s,a=e("f0c5"),c=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,"2699ed81",null,!1,n["a"],s);o["default"]=c.exports},5610:function(t,o,e){},7629:function(t,o,e){"use strict";(function(t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=e("dfa5"),i=e("f735"),r=s(e("8537"));function s(t){return t&&t.__esModule?t:{default:t}}e("604b");var a=e("4cfc"),c={data:function(){return{isPassword:!1,isRegister:!1,markPhone:!1,markCode:!1,markPassword:!1,Password:"",phoneNumber:"",code:"",iscode:"",avatarUrl:"../../static/images/logo.png",mark:!1,Dfault_color:"",Lcolor:"",Mcolor:"",Hcolor:""}},methods:{onLogin:function(){t.redirectTo({url:"/pages/login/login"})},chooseImage:function(){this.active=!1;var o=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){var n=e.tempFilePaths[0];o.avatarUrl=n,t.uploadFile({url:"http://47.102.124.213/MTWMPro/uploadFiles",filePath:o.avatarUrl,name:"file",formData:{user:"test"},success:function(t){var e=t.data;o.avatarUrl=e}})}})},CharMode:function(t){return t>=48&&t<=57?1:t>=65&&t<=90?2:t>=97&&t<=122?4:8},bitTotal:function(t){for(var o=0,e=0;e<4;e++)t&&o++,t>>>=1;return o},checkStrong:function(t){if(t.length<6)return 0;for(var o=0,e=0;e<t.length;e++)o|=this.CharMode(t.charCodeAt(e));return this.bitTotal(o)},pwStrength:function(t){var o="#9D9D9D",e="#FF0000",n="#FF9900",i="#33CC00";if(null==t||""==t)this.Lcolor=this.Mcolor=this.Hcolor=o;else{var r=this.checkStrong(t);switch(r){case 0:this.Lcolor=this.Mcolor=this.Hcolor=o;break;case 1:this.Lcolor=e,this.Mcolor=o,this.Hcolor=o;break;case 2:this.Lcolor=e,this.Mcolor=n,this.Hcolor=o;break;case 3:this.Lcolor=e,this.Mcolor=n,this.Hcolor=i;break;default:console.log("xxxxxxxxxxxxxxxxx"),this.Lcolor=e,this.Mcolor=n,this.Hcolor=i}}},inputPassword:function(t){var o=t.detail.value;this.Password=o,""!=o&&o.length>=6?(this.pwStrength(o),this.Password=o,this.markPassword=!0):this.markPassword=!1},inputCode:function(t){var o=t.detail.value;this.code=o,""!=o&&o.length>=4?(this.code=o,this.markCode=!0):this.markCode=!1},getNumber:function(t){var o=t.detail.value;this.phoneNumber=o,""!=o&&o.length>=11?this.markPhone=!0:this.markPhone=!1},getCode:function(o){var e=this,n=/^(14[0-9]|13[0-9]|15[0-9]|17[0-9]|18[0-9])\d{8}$$/,i=this.phoneNumber;if(""==i)t.showToast({title:"手机号不能为空",icon:"none",duration:1e3});else if(n.test(i)){for(var r="",s=0;s<6;s++)r+=Math.floor(10*Math.random());this.isCode=r,console.log(this.isCode),e.timer()}else t.showToast({title:"请输入正确的手机号",icon:"none",duration:1e3})},timer:function(){if(this.c2&&this.c2.interval)return!1;this.c2=new n.$wuxCountDown({date:+new Date+1e4,onEnd:function(){this.setData({c2:"重新发送"})},render:function(t){var o=this.leadingZeros(t.sec,2)+" 秒 ";0!==t.sec&&this.setData({c2:o})}})},check:function(){var o=/^[a-zA-Z]\w{5,17}$/,e=/^(14[0-9]|13[0-9]|15[0-9]|17[0-9]|18[0-9])\d{8}$$/;return""==this.phoneNumber?(t.showToast({title:"手机号不能为空",icon:"none",duration:2e3}),!1):e.test(this.phoneNumber)?""==this.code?(t.showToast({title:"验证码不能为空",icon:"none",duration:2e3}),!1):this.code!=this.isCode?(t.showToast({title:"验证码输入错误",icon:"none",duration:2e3}),!1):""==this.Password?(t.showToast({title:"密码不能为空",icon:"none",duration:2e3}),!1):!!o.test(this.Password)||(t.showToast({title:"密码以字母开头，长度在6~18之间，只能包含字母、数字和下划线",icon:"none",duration:2e3}),!1):(t.showToast({title:"请输入正确的手机号",icon:"none",duration:1e3}),!1)},register:function(o){var e="MP-WEIXIN",n="weixin",s=a.formatTime(new Date),c={openId:this.phoneNumber,u_Password:this.Password,u_Name:this.phoneNumber,u_Img:this.avatarUrl,uRegisterTime:s,uEnvirn:e,uFlag:n,uPhone:this.phoneNumber};this.check()&&r.default.post(i.WechatUserInsert,c).then((function(o){t.showToast({title:"注册成功",icon:"success",duration:2e3}),setTimeout((function(){t.navigateTo({url:"../login/login"})}),2e3)})).catch((function(t){console.log(t)}))}}};o.default=c}).call(this,e("543d")["default"])},8169:function(t,o,e){"use strict";e.r(o);var n=e("7629"),i=e.n(n);for(var r in n)"default"!==r&&function(t){e.d(o,t,(function(){return n[t]}))}(r);o["default"]=i.a},ff57:function(t,o,e){"use strict";(function(t){e("d76e");n(e("66fd"));var o=n(e("4d88"));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("543d")["createPage"])}},[["ff57","common/runtime","common/vendor"]]]);